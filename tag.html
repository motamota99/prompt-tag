<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¿ã‚°ï½œãƒ©ã‚¤ãƒˆ / ãƒªã‚¢ãƒ«</title>
<meta name="theme-color" content="#ffffff">
<style>
  :root{
    --bg:#f6f7fb; --card:#fff; --ink:#222; --muted:#6b7280;
    --brand:#6c5ce7; --brand2:#a78bfa; --ok:#10b981; --stroke:#e5e7eb;
    --chip:#eef2ff; --chip-ink:#4338ca;
  }
  *{box-sizing:border-box; -webkit-tap-highlight-color: transparent;}
  html,body{margin:0;background:var(--bg);color:var(--ink);
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans JP",sans-serif}
  .wrap{max-width:780px;margin:0 auto;padding:18px 14px 96px}
  .card{background:var(--card);border:1px solid var(--stroke);border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.05)}
  header{display:flex;align-items:center;gap:12px;padding:14px 16px 8px;position:sticky;top:0;background:#fff;border-bottom:1px solid var(--stroke);border-top-left-radius:16px;border-top-right-radius:16px;z-index:5}
  .logo{width:40px;height:40px;border-radius:12px;background:
    radial-gradient(120% 120% at 10% 10%,#f0f4ff 0,#e0e7ff 35%,#c7d2fe 60%,#a5b4fc 100%);
    display:grid;place-items:center;color:#4338ca;font-weight:700}
  h1{font-size:18px;line-height:1.2;margin:0}
  .note{color:var(--muted);font-size:12px;line-height:1.5}
  .seg{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:8px 16px}
  .seg button{appearance:none;border:1px solid var(--stroke);background:#fff;padding:12px;border-radius:12px;font-weight:700}
  .seg button.active{border-color:transparent;background:linear-gradient(90deg,var(--brand),var(--brand2));color:#fff}
  .section{padding:12px 16px}
  .textarea{width:100%;min-height:140px;max-height:420px;padding:12px;border:1px solid var(--stroke);
    border-radius:12px;font-size:15px;line-height:1.6;background:#fff;resize:vertical}
  .chips{display:flex;gap:10px;row-gap:10px;flex-wrap:wrap}
  .chips.scroll{flex-wrap:nowrap;overflow:auto;padding:2px 2px 8px;scroll-snap-type:x mandatory}
  .chips.scroll .chip{scroll-snap-align:start}
  .chip{appearance:none;border:0;background:var(--chip);color:var(--chip-ink);
    padding:12px 14px;border-radius:18px;font-size:14px;white-space:nowrap}
  .chip.big{font-size:15px;padding:14px 16px}
  .chip.outline{background:#fff;border:1px solid var(--stroke);color:#374151}
  .chip:active{transform:translateY(1px)}
  details{border:1px solid var(--stroke);border-radius:12px;background:#fff}
  details+details{margin-top:10px}
  summary{list-style:none;padding:12px 14px;font-weight:700;cursor:pointer}
  summary::-webkit-details-marker{display:none}
  .panel{padding:12px;border-top:1px solid var(--stroke)}
  .help{color:var(--muted);font-size:12px;margin-top:6px}
  .actions{position:sticky;bottom:0;left:0;right:0;background:linear-gradient(180deg,rgba(246,247,251,0),rgba(246,247,251,1) 18px);
    padding:12px 10px;border-top:1px solid var(--stroke)}
  .row{display:flex;gap:8px}
  .btn{flex:1;appearance:none;border:0;border-radius:12px;padding:12px 14px;font-weight:800;font-size:15px;color:#fff;background:#111}
  .btn.brand{background:linear-gradient(90deg,var(--brand),var(--brand2))}
  .btn.ghost{background:#fff;color:#111;border:1px solid var(--stroke)}
  .btn:active{transform:translateY(1px)}
  .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 12px;border-radius:10px;
    font-size:13px;opacity:0;pointer-events:none;transition:opacity .25s;z-index:10}
  .toast.show{opacity:1}
  .hidden{display:none}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <div class="logo">PT</div>
      <div>
        <h1>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¿ã‚°</h1>
        <div class="note">ä¸Šã®ã‚¿ãƒ–ã§ãƒ¢ãƒ¼ãƒ‰ã‚’é¸ã¶ â†’ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ â†’ ã‚³ãƒ”ãƒ¼ â†’ ChatGPTã‚’é–‹ãã€‚<br>â€» ç¾å®Ÿå¯„ã‚Šã¯ã€ŒéŸ³ãƒ»é“å…·ãƒ»é‡‘é¡ã€ã®3ç‚¹ã‚»ãƒƒãƒˆã‚’æ„è­˜ã€‚</div>
      </div>
    </header>

    <!-- ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ -->
    <div class="seg" role="tablist" aria-label="ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿">
      <button id="tab-light" class="active" role="tab" aria-selected="true">ãƒ©ã‚¤ãƒˆï¼ˆã‹ã‚“ãŸã‚“ï¼‰</button>
      <button id="tab-pro" role="tab" aria-selected="false">ãƒªã‚¢ãƒ«ï¼ˆæœ¬æ ¼ï¼‰</button>
    </div>

    <!-- å…±é€šå…¥åŠ› -->
    <div class="section">
      <label for="prompt" class="help">é€ä¿¡ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚¿ãƒƒãƒ—ã—ãŸæ™‚ã ã‘ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒå‡ºã¾ã™ï¼‰</label>
      <textarea id="prompt" class="textarea" inputmode="text" enterkeyhint="done" placeholder="ã“ã“ã«é€ã‚‹æ–‡ç« ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ãŒå…¥ã‚Šã¾ã™"></textarea>
      <div class="help">ğŸ”’ ãƒ†ã‚­ã‚¹ãƒˆã¯ç«¯æœ«å†…ã®ã¿ã€‚</div>
    </div>

    <!-- ãƒ©ã‚¤ãƒˆï¼šæœ€å°æ“ä½œãƒ»å¤§ãƒœã‚¿ãƒ³ -->
    <section id="mode-light" class="section" role="tabpanel">
      <h2 style="margin:0 0 8px;font-size:14px">ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§å…¥ã‚Œã‚‹ï¼ˆéŠã³æ„Ÿè¦šï¼‰</h2>
      <div class="chips">
        <button class="chip big" data-preset="ã‚ãªãŸã¯å…ƒæ°—ãªå®Ÿæ³ã‚¢ãƒŠã€‚æ–‡æœ«ã¯çŸ­ãæ­¯åˆ‡ã‚Œã‚ˆãã€‚çµµãŒæµ®ã‹ã¶è¨€è‘‰ã§ã€1ã€œ2æ–‡ã§è¦ç‚¹ã‚’å®Ÿæ³ã™ã‚‹ã€‚">å…ƒæ°—ãªå®Ÿæ³</button>
        <button class="chip big" data-preset="ã‚ãªãŸã¯ã‚„ã•ã—ã„åº—å“¡ã€‚ä¸å¯§ã ãŒé•·ãã—ãªã„ã€‚å›°ã£ã¦ã„ã‚‹äººã«â€œæ¬¡ã®ä¸€æ‰‹â€ã‚’å…·ä½“çš„ã«æ¡ˆå†…ã€‚">ã‚„ã•ã—ã„åº—å“¡</button>
        <button class="chip big" data-preset="ã‚ãªãŸã¯å ã„å¸«é¢¨ã€‚æ–­è¨€ã¯ã›ãšâ€œæ–¹å‘æ€§â€ã‚’çŸ­ãç¤ºã™ã€‚ãƒ©ãƒƒã‚­ãƒ¼â€œç‰©ãƒ»è‰²ãƒ»éŸ³â€ã‚’1ã¤ãšã¤ã€‚">å ã„å¸«é¢¨</button>
        <button class="chip big" data-preset="ã‚ãªãŸã¯å­¦æ ¡ã®å…ˆç”Ÿã€‚ä¾‹ã¯èº«è¿‘ãªã‚‚ã®ã‚’1ã¤ã€‚é›£ã—ã„è¨€è‘‰ã‚’ä½¿ã‚ãšã€2æ–‡ä»¥å†…ã§èª¬æ˜ã€‚">å…ˆç”Ÿé¢¨</button>
        <button class="chip big" data-preset="ã‚ãªãŸã¯åå¤å±‹å¼ã®12æ­³ã€‚èªå°¾ã¯è»½ãâ€œã€œã ãŒã­â€ç¨‹åº¦ã€‚å†—è«‡ã¯ä¸€ç²’ã¾ã§ã€‚">åå¤å±‹å¼12æ­³</button>
        <button class="chip big" data-preset="æ²ç¤ºæ¿ã‚¹ãƒ¬ã£ã½ãçŸ­ã„ã‚„ã‚Šå–ã‚Šã€‚1ãƒ¬ã‚¹ã¯1ã€œ2æ–‡ã€‚ã¯ã˜ã‚ã«ã€ä»Šã€ç­”ãˆã‚‰ã‚Œã‚‹ã€‚é †ã«ã©ã†ãã€‚ã€ã‚’æ›¸ãå‡ºã™ã€‚">æ²ç¤ºæ¿ã£ã½ã</button>
      </div>
      <div class="help">â€» é›£ã—ã„è¨­å®šã¯ä¸è¦ã€‚æŠ¼ã™â†’å°‘ã—ç›´ã—ã¦â†’é€ã‚‹ã ã‘ã€‚</div>
    </section>

    <!-- ãƒªã‚¢ãƒ«ï¼šç¾å®Ÿå¯„ã‚Šãƒ—ãƒªã‚»ãƒƒãƒˆ -->
    <section id="mode-pro" class="section hidden" role="tabpanel" aria-hidden="true">
      <h2 style="margin:0 0 8px;font-size:14px">ã‚¯ã‚¤ãƒƒã‚¯ï¼ˆç¾å®Ÿå¯„ã‚Šã®é›°å›²æ°—ï¼‰</h2>
      <div class="chips scroll">
        <button class="chip" data-preset="ã€æ–¹é‡ã€‘æ ¹æ‹ ã²ã¨è¨€(ä¾¡æ ¼/æ™®åŠ/åˆ¶åº¦)ã€‚ç”Ÿæ´»ã®å®Ÿç‰©3ç‚¹(éŸ³ãƒ»é“å…·ãƒ»é‡‘é¡)ã€‚ä¸ç¢ºå®Ÿã¯æ˜è¨˜ã€‚æ¯”å–©å°‘ã€‚ã€1990sã€‘ãƒã‚±ãƒ™ãƒ«/ãƒ†ãƒ¬ã‚«/ãƒ€ã‚¤ãƒ¤ãƒ«ã‚¢ãƒƒãƒ—éŸ³ã€‚FAXã¨ãƒ¯ãƒ¼ãƒ—ãƒ­ã€ãƒ—ãƒªã‚¯ãƒ©ã®åˆ—ã€‚é§…å‰çœ‹æ¿ãã£ã—ã‚Šã€‚CDåƒå††å¼±/ãŠã«ãã‚Š100å††å°ã€‚ã€æ²ç¤ºæ¿ã€‘çŸ­ãƒ¬ã‚¹1â€“2æ–‡ï¼‹æ ¹æ‹ ã€‚é–‹å§‹ï¼š1ï¼šã‚¹ãƒ¬ç«‹ã¦ä¹™ã€‚éŸ³ã¨é“å…·ã¨é‡‘é¡ã§èªã‚Œã€‚">æ²ç¤ºæ¿Ã—90å¹´ä»£</button>
        <button class="chip" data-preset="ã€æ–¹é‡ã€‘æ ¹æ‹ ã²ã¨è¨€ï¼‹å®Ÿç‰©3ç‚¹ã€‚æ¯”å–©æœ€å°ã€‚ã€2000så‰åŠã€‘ADSLå¸¸æ™‚æ¥ç¶šã€ãƒ–ãƒ­ã‚°/æ¿æ–‡åŒ–ã€‚æŠ˜ã‚ŠãŸãŸã¿æºå¸¯ã¨ç€ã†ãŸã€‚ICä¹—è»Šåˆ¸åˆæœŸã€ãƒãƒƒãƒˆå–«èŒ¶ã€‚ç‰›ä¸¼280â€“380å††ã€‚å›ºå®šãƒ„ã‚¤ï¼šç¾å ´ã®æ¸©åº¦ã§èªã‚‹ã€‚è³ªå•ã©ã†ãã€‚è¿”ä¿¡ã¯1â€“2æ–‡ï¼‹æ ¹æ‹ ã€‚">SNSÃ—2000å¹´ä»£</button>
        <button class="chip" data-preset="ã€æ–¹é‡ã€‘æ ¹æ‹ ã²ã¨è¨€ï¼‹å®Ÿç‰©3ç‚¹ã€‚ã€1980sã€‘ãƒ–ãƒ©ã‚¦ãƒ³ç®¡/ã‚«ã‚»ãƒƒãƒˆ/é»’é›»è©±ã€‚å›½é‰„â†’JRã€ç¡¬åˆ¸ã€‚å•†åº—è¡—ã®è›å…‰ç¯ã€ãŸã°ã“ã®åŒ‚ã„ã€‚ç¼¶120å††/ã‚¬ã‚½ãƒªãƒ³100å††å°åŠã°ã€‚è¦‹å‡ºã—ï¼šä»Šæ—¥ã®ç¾å ´ãƒ¡ãƒ¢ã€‚åŒºåˆ‡ã‚Šï¼šã“ã“ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆä¸€å•ä¸€ç­”ã€‚">ãƒ–ãƒ­ã‚°Ã—80å¹´ä»£</button>
        <button class="chip" data-preset="ã€æ–¹é‡ã€‘æ ¹æ‹ ã¯â€œç›®å®‰â€ã§é™å®šã€å®Ÿç‰©3ç‚¹ã€‚ã€æ±Ÿæˆ¸ã€‘ä¸å®šæ™‚æ³•ã®é˜ã€é•·å±‹ã®äº•æˆ¸ã€è¡Œå•†ã®å‘¼ã³å£°ã€‚è•éº¦ã¯ä¸€æ¯åæ•°æ–‡ã®ç›®å®‰ã€‚è¨€ã„å›ã—ã¯è»½ãâ€œã€œã§ã”ã–ã‚“ã™â€ã€‚">ãƒ–ãƒ­ã‚°Ã—æ±Ÿæˆ¸</button>
      </div>

      <details open style="margin-top:12px">
        <summary>è·æ¥­ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ï¼‰</summary>
        <div class="panel">
          <div class="chips">
            <button class="chip outline" data-preset="ã€å¼è­·å£«ã€‘é¢è«‡å®¤ã®ãƒ†ã‚£ãƒƒã‚·ãƒ¥ã¨ICãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ã€ã‚³ãƒ”ãƒ¼æ©Ÿé€£æ‰“ã€è£½æœ¬ãƒ†ãƒ¼ãƒ—ã®ãã—ã¿ã€‚æ‰‹é †ï¼šå—ä»»â†’å§”ä»»çŠ¶/ç€æ‰‹é‡‘â†’è¨¼æ‹ â†’äº¤æ¸‰/è¨´è¨Ÿâ†’å’Œè§£/åˆ¤æ±ºâ†’æ¸…ç®—ã€‚è²»ç”¨ã¯ç›®å®‰ã§é™å®šã€‚æ²ç¤ºæ¿ä½“è£ã§1â€“2æ–‡ï¼‹æ ¹æ‹ ã€‚">å¼è­·å£«</button>
            <button class="chip outline" data-preset="ã€çœ‹è­·å¸«ã€‘ãƒŠãƒ¼ã‚¹ã‚³ãƒ¼ãƒ«ã€æ¶ˆæ¯’ã®åŒ‚ã„ã€å¤œå‹¤å·¡è¦–ã€‚ãƒã‚¤ã‚¿ãƒ«â†’æŠ•è–¬ãƒ€ãƒ–ãƒ«ãƒã‚§ãƒƒã‚¯â†’è¨˜éŒ²ã€‚SNSå½¢å¼ï¼šå›ºå®šãƒ„ã‚¤ã€éŸ³/é“å…·/é‡‘é¡ã§ç¾å ´ã‚’æãã€‚è³ªå•ã©ã†ãã€ï¼‹çŸ­è¿”ä¿¡ã€‚">çœ‹è­·å¸«</button>
            <button class="chip outline" data-preset="ã€å»ºç¯‰ç¾å ´ç›£ç£ã€‘æœç¤¼ã®æ‹¡å£°å™¨ã€æ‰“è¨­ã®æŒ¯å‹•ã€å¢¨å‡ºã—ã®ãƒãƒ£ã‚³è·¡ã€‚æ®µå–ã‚Šï¼šè¿‘éš£â†’å®‰å…¨â†’å·¥ç¨‹â†’å“è³ªâ†’åŸä¾¡ã€‚å†™çœŸ/æ›¸é¡ãŒè¨¼è·¡ã€‚">å»ºç¯‰ç›£ç£</button>
            <button class="chip outline" data-preset="ã€ã‚³ãƒ³ãƒ“ãƒ‹åº—é•·ã€‘æœåˆŠã®æŸã€ãƒ›ãƒƒãƒˆã‚¹ãƒŠãƒƒã‚¯ã®æ²¹éŸ³ã€POSã®ãƒ”ãƒƒã€‚ã‚·ãƒ•ãƒˆâ†’æ¤œå“â†’å‰å‡ºã—â†’æ—¥é…å»ƒæ£„â†’ç· ã‚ã€‚ä¾¡æ ¼å¸¯ã¯åœ°åŸŸå·®ã‚ã‚Šã€‚">ã‚³ãƒ³ãƒ“ãƒ‹åº—é•·</button>
          </div>
        </div>
      </details>
    </section>

    <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå…±é€šï¼‰ -->
    <div class="actions">
      <div class="row" style="margin-bottom:8px">
        <button class="btn brand" id="toGPT">ChatGPTã‚’é–‹ãï¼ˆè‡ªå‹•ã‚³ãƒ”ãƒ¼ï¼‰</button>
        <button class="btn ghost" id="copyBtn">ã‚³ãƒ”ãƒ¼</button>
      </div>
      <div class="row">
        <button class="btn" style="background:var(--ok)" id="saveURL">URLã«åŸ‹ã‚è¾¼ã‚€ï¼ˆå…±æœ‰/NFCç”¨ï¼‰</button>
        <button class="btn ghost" id="clearBtn">ã‚¯ãƒªã‚¢</button>
      </div>
      <div class="help" style="padding:0 4px">ğŸ”— ç”ŸæˆURLã¯ <code>#</code> ä»¥é™ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æ ¼ç´ã€‚NFCã‚¿ã‚°ã®URLã¨ã—ã¦ãã®ã¾ã¾æ›¸ãè¾¼ã‚ã¾ã™ã€‚</div>
    </div>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite">copied</div>

<script>
  // è¦ç´ 
  const promptBox = document.getElementById('prompt');
  const tabLight  = document.getElementById('tab-light');
  const tabPro    = document.getElementById('tab-pro');
  const modeLight = document.getElementById('mode-light');
  const modePro   = document.getElementById('mode-pro');
  const toast     = document.getElementById('toast');

  // ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ï¼ˆã‚¿ãƒƒãƒ—ã§ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’å‡ºã•ãªã„é…æ…®ï¼štextareaã¸ã¯è§¦ã‚‰ãªã„ï¼‰
  function setMode(mode){
    const isLight = mode==='light';
    tabLight.classList.toggle('active', isLight);
    tabPro.classList.toggle('active', !isLight);
    tabLight.setAttribute('aria-selected', isLight?'true':'false');
    tabPro.setAttribute('aria-selected', !isLight?'true':'false');
    modeLight.classList.toggle('hidden', !isLight);
    modePro.classList.toggle('hidden', isLight);
    modePro.setAttribute('aria-hidden', isLight?'true':'false');
    localStorage.setItem('pt_mode', mode);
  }
  tabLight.addEventListener('click', ()=>setMode('light'));
  tabPro.addEventListener('click', ()=>setMode('pro'));
  setMode(localStorage.getItem('pt_mode')||'light');

  // ãƒˆãƒ¼ã‚¹ãƒˆ
  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'),1400);
  }

  // ãƒ—ãƒªã‚»ãƒƒãƒˆæŒ¿å…¥ï¼ˆâ€» ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãªã„ï¼ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å‡ºã•ãªã„ï¼‰
  function insertPreset(text){
    const start = document.activeElement;
    promptBox.value = (text||'').trim();
    // è§¦ã‚‰ãªã„ï¼špromptBox.focus(); ã‚’å‘¼ã°ãªã„
    if (start && typeof start.blur === 'function' && start !== promptBox) {
      // ç›´å‰ã«æŠ¼ã—ãŸãƒœã‚¿ãƒ³ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã‚‚æ¶ˆã™ï¼ˆé€£æ‰“ã—ã‚„ã™ãï¼‰
      start.blur();
    }
    showToast('ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’æŒ¿å…¥ã—ã¾ã—ãŸ');
  }
  document.querySelectorAll('.chip').forEach(b=>{
    b.addEventListener('click',()=>insertPreset(b.dataset.preset||b.textContent));
  });

  // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ï¼ˆå¯è¦–textareaã«è§¦ã‚Œãšã€ç”»é¢å¤–ã®ä¸€æ™‚è¦ç´ ã§å‡¦ç†ï¼‰
  async function doCopy(text){
    // æ–¹å¼Aï¼šä¸€æ™‚ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ + execCommandï¼ˆå¤šç’°å¢ƒã§å®‰å®šï¼‰
    try{
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.setAttribute('readonly','');
      ta.style.position='fixed';
      ta.style.opacity='0';
      ta.style.pointerEvents='none';
      ta.style.top='-2000px';
      document.body.appendChild(ta);
      ta.focus(); ta.select();
      ta.setSelectionRange(0, text.length);
      const ok = document.execCommand && document.execCommand('copy');
      document.body.removeChild(ta);
      if (ok) return true;
    }catch(e){/* fallthrough */ }

    // æ–¹å¼Bï¼šClipboard APIï¼ˆè¨±å¯ãŒã‚ã‚Œã°èµ°ã‚‹ï¼‰
    try{
      await navigator.clipboard.writeText(text);
      return true;
    }catch(e){
      return false;
    }
  }

  // ã‚³ãƒ”ãƒ¼
  document.getElementById('copyBtn').addEventListener('click', async ()=>{
    const ok = await doCopy(promptBox.value);
    showToast(ok?'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ':'ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã€‚é•·æŠ¼ã—â†’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„');
  });

  // ChatGPTã‚’é–‹ãï¼ˆã‚³ãƒ”ãƒ¼â†’æ–°è¦ã‚¿ãƒ–ï¼‰ã€‚å¯è¦–textareaã¯è§¦ã‚‰ãªã„ï¼ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å‡ºãªã„
  document.getElementById('toGPT').addEventListener('click', async ()=>{
    const txt = promptBox.value.trim();
    if(!txt){ showToast('ãƒ†ã‚­ã‚¹ãƒˆãŒç©ºã§ã™'); return; }
    const ok = await doCopy(txt);
    showToast(ok ? 'ã‚³ãƒ”ãƒ¼å®Œäº†ã€‚ChatGPTã§è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„' : 'ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã€‚æ‰‹å‹•ã§é•·æŠ¼ã—â†’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„');
    window.open('https://chat.openai.com/','_blank','noopener');
  });

  // URLã«åŸ‹ã‚è¾¼ã¿ï¼ˆ#ä»¥é™ï¼‰
  function encHash(s){ return encodeURIComponent(s).replace(/%20/g,'+'); }
  function decHash(h){ try{ return decodeURIComponent(h.replace(/\+/g,'%20')); }catch(e){ return h; } }
  document.getElementById('saveURL').addEventListener('click', async ()=>{
    const txt = promptBox.value.trim();
    if(!txt){ showToast('ãƒ†ã‚­ã‚¹ãƒˆãŒç©ºã§ã™'); return; }
    const url = location.origin + location.pathname + '#' + encHash(txt);
    history.replaceState(null,'', url);
    const ok = await doCopy(url);
    showToast(ok ? 'URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ' : 'URLã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã€‚æ‰‹å‹•ã§é¸æŠã—ã¦ãã ã•ã„');
  });

  // ã‚¯ãƒªã‚¢
  document.getElementById('clearBtn').addEventListener('click', ()=>{
    promptBox.value = '';
    history.replaceState(null,'', location.origin + location.pathname);
    showToast('ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
  });

  // ãƒãƒƒã‚·ãƒ¥ã‹ã‚‰èª­ã¿è¾¼ã¿ï¼ˆå…±æœ‰/NFCç€åœ°ï¼‰
  (function bootFromHash(){
    const h = location.hash.startsWith('#') ? location.hash.slice(1) : '';
    if(!h) return;
    const txt = decHash(h);
    if(txt){ promptBox.value = txt; showToast('URLã‹ã‚‰èª­ã¿è¾¼ã¿ã¾ã—ãŸ'); }
  })();
</script>
</body>
</html>
